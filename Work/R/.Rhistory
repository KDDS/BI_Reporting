geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") + theme_classic() +
theme(axis.line = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
plot.title = element_text(hjust = 0.5, color = "#666666")
)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") + theme_classic() +
theme_bw() + theme_minimal(base_size = 15)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") + theme_classic() +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
sum(m$value)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") + theme_classic() +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_classic() +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1) +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.y=element_blank(),
axis.ticks.y=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual(values=c("#55DDE0", "#33658A", "#F26419", "#F6AE2D"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( values=c("red", "green", "blue", "white"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values=c("red", "green", "blue", "white"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
install.packages("wesanderson")
# create the oracle connection
connHandle <- odbcConnect("ORA_XE", uid = "SYSTEM", pwd = "1234")
library(wesanderson)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),wes.palette(n=3, name="Darjeeling"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
library(wesanderson)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),wes.palette(n=3, name="Darjeeling"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),wes.palette(n=3, name="GrandBudapest"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),wes.palette(n=3, name="GrandBudapest"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),wes.palette(n=4, name="GrandBudapest"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),wes_palette(n=4, name="GrandBudapest"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="GrandBudapest"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
names(wesanderson::wes_palettes)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Darjeeling1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Royal1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Moonrise3"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="IsleofDogs1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Royal1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
display.wes.palette(4, "GrandBudapest")
display.wes.palette(4, "GrandBudapest1")
display.wes.palette(4, "GrandBudapest2")
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Zissou1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Cavalcanti1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
names(wesanderson::wes_palettes)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="FantasticFox1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Chevalier1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
source('~/Work/BI_Reporting/Work/R/individual graph.R', echo=TRUE)
names(wesanderson::wes_palettes)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="BottleRocket2"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Rushmore1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Rushmore2"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Rushmore"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Royal2"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Royal1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
names(wesanderson::wes_palettes)
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Zissou1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Darjeeling1"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
# Create a basic bar
ggplot(m, aes(x="", y=value, fill=variable)) + geom_bar(stat="identity", width=1, col = 'black') +
coord_polar("y", start=0) +
geom_text(aes(label = paste0(round(value,0), "%")), position = position_stack(vjust = 0.5)) +
scale_fill_manual( labels = c("Connected", "Waiting", "Paused", "Deassign"),values = wes_palette(n=4, name="Darjeeling2"))  +
labs(x = NULL, y = NULL, fill = NULL, title = "Work Shares") +
theme_bw() + theme_minimal(base_size = 15) +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text=element_blank())
runApp('Work/BI_Reporting/Work/R')
x = data_left_pgOne %>% filter(AGENT_NAME == (input$datatable_one_cell_clicked)[3] %>% summarize(n()))
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh') %>% summarize(n())
View(x)
View(data_left_pgOne)
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh') %>% summarise(count = sum(WORK_HOURS))
View(x)
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh') %>% mutate(count = ifelse(is.na(count), 0, count))
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh') %>% summarise(count = sum(WORK_HOURS)) %>% mutate(count = ifelse(is.na(count), 0, count))
View(x)
over_perf <- data_temp %>%
select(TOTAL_CONNECTED_IN_HRS,TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS, TOTAL_DEASSIGN_IN_HRS)  %>%
summarise_all(funs(sum))
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh')
x$WORK_HOURS
x$AGENT_NAME
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh')
is.na(x$AGENT_NAME)
x$AGENT_NAME
# fetch all data from  daily_noble_data_fact
data_temp  = sqlQuery(connHandle, "
SELECT DA.AGENT_NAME,DW.WEEK_DAY,DS.SHIFT_TYPE,DF.CONTACT_DATE,TOTAL_CONNECTED_IN_HRS,
TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS, TOTAL_DEASSIGN_IN_HRS,
TOTAL_SUMMARY_IN_HRS, TOTAL_CONNECTED_IN_MINS, TOTAL_WAITING_IN_MINS,
TOTAL_PAUSED_IN_MINS, TOTAL_DEASSIGN_IN_MINS, TOTAL_SUMMARY_IN_MINS
FROM
DIM_AGENT DA,
DIM_SHIFTS DS,
DIM_WEEKS DW,
DAILY_NOBLE_DATA_FACT DF
WHERE
DF.AGENT_ID =DA.AGENT_ID
AND DS.SHIFT_ID=DF.SHIFT_ID
AND DW.WEEK_ID = DF.WEEK_ID
AND DF.CONTACT_DATE >= TO_DATE(SYSDATE - 7, 'MM/DD/YYYY');",stringsAsFactors = F
)
# Chanege the date Oracle format to R date
data_temp$CONTACT_DATE <- as.Date(data_temp$CONTACT_DATE, "%m/%d/%Y")
# aggregating the data for the second tab
data_left_pgOne <-  data_temp %>%
select (.,AGENT_NAME,TOTAL_SUMMARY_IN_HRS,CONTACT_DATE) %>%
group_by(AGENT_NAME, CONTACT_DATE) %>%
summarise(WORK_HOURS = sum(TOTAL_SUMMARY_IN_HRS, na.rm = TRUE))
data_right_pgOne <-  data_temp %>%
select (.,AGENT_NAME,TOTAL_CONNECTED_IN_HRS,
TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS,
TOTAL_DEASSIGN_IN_HRS,TOTAL_SUMMARY_IN_HRS,CONTACT_DATE) %>%
group_by(AGENT_NAME, CONTACT_DATE) %>%
summarise(WORK_HOURS = sum(TOTAL_SUMMARY_IN_HRS, na.rm = TRUE))
# variable for conditional coloring at ggplot
defaulter <- "Red"
Ok <- "blue"
# ggplot to point plot the weekly performance of all the employees
ggplot(data = data_left_pgOne, aes(x = CONTACT_DATE,y = WORK_HOURS)) +
geom_point(shape = 20,size = 5,aes(color = ifelse( WORK_HOURS <= 8 , Ok, defaulter)),
show.legend = T
) +
scale_color_manual(labels = c("Default", "Success"), values = c("red", "#0072B2")) +
theme_bw(base_size = 15)  +
theme( panel.background = element_rect( linetype = 1,
colour = 'black',
size = 2,
fill = '#e6e8ed')) +
labs(x = '', y = 'WORK_HOURS') + labs(col = "") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())  +
scale_x_date(date_breaks = 'day', date_labels = '%b %d\n%a')
# ggplot to generate the barplot of employee performance over the week
ggplot(data = data_left_pgOne %>% filter(AGENT_NAME == 'Arnab Kumar Das'),
aes(x = CONTACT_DATE, y = WORK_HOURS)
) +
geom_bar(fill = '#328770', col = "black", stat = "identity",  width = 1) +
theme_bw() + theme_minimal(base_size = 15) +   labs(x = '', y = 'Working Hours') +
labs(col = "Legend") +   geom_smooth(level = .65,se = F, colour = 'red', method = 'loess',formula  = 'y ~ x') +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
labs(x = '', y = 'WORK_HOURS') + labs(col = "Legend")  +
scale_x_date(date_breaks = 'day', date_labels = '%b %d\n%a')
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh')
x$AGENT_NAME
print(x$AGENT_NAME)
# fetch all data from  daily_noble_data_fact
data_temp  = sqlQuery(connHandle, "
SELECT DA.AGENT_NAME,DW.WEEK_DAY,DS.SHIFT_TYPE,DF.CONTACT_DATE,TOTAL_CONNECTED_IN_HRS,
TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS, TOTAL_DEASSIGN_IN_HRS,
TOTAL_SUMMARY_IN_HRS, TOTAL_CONNECTED_IN_MINS, TOTAL_WAITING_IN_MINS,
TOTAL_PAUSED_IN_MINS, TOTAL_DEASSIGN_IN_MINS, TOTAL_SUMMARY_IN_MINS
FROM
DIM_AGENT DA,
DIM_SHIFTS DS,
DIM_WEEKS DW,
DAILY_NOBLE_DATA_FACT DF
WHERE
DF.AGENT_ID =DA.AGENT_ID
AND DS.SHIFT_ID=DF.SHIFT_ID
AND DW.WEEK_ID = DF.WEEK_ID
AND DF.CONTACT_DATE >= TO_DATE(SYSDATE - 7, 'MM/DD/YYYY');",stringsAsFactors = T
)
# aggregating the data for the second tab
data_left_pgOne <-  data_temp %>%
select (.,AGENT_NAME,TOTAL_SUMMARY_IN_HRS,CONTACT_DATE) %>%
group_by(AGENT_NAME, CONTACT_DATE) %>%
summarise(WORK_HOURS = sum(TOTAL_SUMMARY_IN_HRS, na.rm = TRUE))
# Chanege the date Oracle format to R date
data_temp$CONTACT_DATE <- as.Date(data_temp$CONTACT_DATE, "%m/%d/%Y")
data_right_pgOne <-  data_temp %>%
select (.,AGENT_NAME,TOTAL_CONNECTED_IN_HRS,
TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS,
TOTAL_DEASSIGN_IN_HRS,TOTAL_SUMMARY_IN_HRS,CONTACT_DATE) %>%
group_by(AGENT_NAME, CONTACT_DATE) %>%
summarise(WORK_HOURS = sum(TOTAL_SUMMARY_IN_HRS, na.rm = TRUE))
# variable for conditional coloring at ggplot
defaulter <- "Red"
Ok <- "blue"
# ggplot to point plot the weekly performance of all the employees
ggplot(data = data_left_pgOne, aes(x = CONTACT_DATE,y = WORK_HOURS)) +
geom_point(shape = 20,size = 5,aes(color = ifelse( WORK_HOURS <= 8 , Ok, defaulter)),
show.legend = T
) +
scale_color_manual(labels = c("Default", "Success"), values = c("red", "#0072B2")) +
theme_bw(base_size = 15)  +
theme( panel.background = element_rect( linetype = 1,
colour = 'black',
size = 2,
fill = '#e6e8ed')) +
labs(x = '', y = 'WORK_HOURS') + labs(col = "") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())  +
scale_x_date(date_breaks = 'day', date_labels = '%b %d\n%a')
# ggplot to generate the barplot of employee performance over the week
ggplot(data = data_left_pgOne %>% filter(AGENT_NAME == 'Arnab Kumar Das'),
aes(x = CONTACT_DATE, y = WORK_HOURS)
) +
geom_bar(fill = '#328770', col = "black", stat = "identity",  width = 1) +
theme_bw() + theme_minimal(base_size = 15) +   labs(x = '', y = 'Working Hours') +
labs(col = "Legend") +   geom_smooth(level = .65,se = F, colour = 'red', method = 'loess',formula  = 'y ~ x') +
theme(panel.background = element_rect(linetype = 1, colour = 'black', size = 2,fill = '#e6e8ed')) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
labs(x = '', y = 'WORK_HOURS') + labs(col = "Legend")  +
scale_x_date(date_breaks = 'day', date_labels = '%b %d\n%a')
x = data_left_pgOne %>% filter(AGENT_NAME == 'fdjh')
tover_perf <- data_temp %>%
select(TOTAL_CONNECTED_IN_HRS,TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS, TOTAL_DEASSIGN_IN_HRS)  %>%
summarise_all(funs(sum))
length(x)
nrow(x)
runApp('Work/BI_Reporting/Work/R')
runApp('Work/BI_Reporting/Work/R')
