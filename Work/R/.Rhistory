values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
daychoice <- "Tuesday"
shiftchoice <- "Morning"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_val,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- list()
}
filter_var <- list()
group_var <-  list('SHIFT_TYPE','WEEK_DAY')
filter_val <- list()
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
daychoice <- "Tuesday"
shiftchoice <- "Morning"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_val,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- list()
}
print(filter_var)
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- list()
}
print(filter_var)
print(filter_val)
paste0(filter_val, " %in% ", filter_val, "")
paste0(filter_var, " %in% ", filter_val, "")
group_var <- list('SHIFT_TYPE','WEEK_DAY')
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
filter_val <- c('Afternoon','Friday')
select_var <- c(group_var,values_var)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
filter_(.,.dots = paste0(group_var, "=='", filter_val, "'")) %>% ungroup() %>%
select_(.dots = values_var)
paste0(group_var, "=='", filter_val, "'")
filter_(.,.dots = paste0(group_var, " %in% ", filter_val, ""))
paste0(filter_var, " %in% ", filter_val, "")
paste0(filter_var, " == '", filter_val, "'")
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))%>%
filter_(.,.dots = paste0(group_var, " %in% '", filter_val, "'"))
paste0(filter_var, " %in% '", filter_val, "'")
filter_var <- list()
group_var <-  list('SHIFT_TYPE','WEEK_DAY')
filter_val <- list()
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
daychoice <- "Tuesday"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- list()
filter_var <- list()
}
print(filter_var)
filter_var <- list()
group_var <-  list('SHIFT_TYPE','WEEK_DAY')
filter_val <- list()
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
daychoice <- "Tuesday"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
print(filter_var)
print(filter_val)
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- list()
filter_var <- list()
}
filter_var <- list()
group_var <-  list('SHIFT_TYPE','WEEK_DAY')
filter_val <- list()
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
daychoice <- "Tuesday"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
print(filter_var)
print(filter_val)
paste0(filter_var, " %in% '", filter_val, "'")
daychoice <- "All"
shiftchoice <- "Afternoon"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
print(filter_var)
print(filter_val)
paste0(filter_var, " %in% '", filter_val, "'")
daychoice <- "All"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
print(filter_var)
print(filter_val)
paste0(filter_var, " %in% '", filter_val, "'")
daychoice <- "All"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
if (length(filter_val)==0 && length(filter_var)==0) {
filter_val = list('WEEK_DAY')
filter_var = list('%')
}
print(filter_var)
print(filter_val)
if (length(filter_val)==0 && length(filter_var)==0) {
filter_var = list('WEEK_DAY')
filter_val = list('%')
}
print(filter_var)
print(filter_val)
filter_var <- list()
group_var <-  list('SHIFT_TYPE','WEEK_DAY')
filter_val <- list()
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
daychoice <- "All"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
if (length(filter_val)==0 && length(filter_var)==0) {
filter_var = list('WEEK_DAY')
filter_val = list('%')
}
print(filter_var)
print(filter_val)
paste0(filter_var, " %in% '", filter_val, "'")
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))%>%
filter_(.,.dots = paste0(group_var, " %in% '", filter_val, "'"))
daychoice <- "Sunday"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
if (length(filter_val)==0 && length(filter_var)==0) {
filter_var = list('WEEK_DAY')
filter_val = list('%')
}
print(filter_var)
print(filter_val)
paste0(filter_var, " %in% '", filter_val, "'")
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))%>%
filter_(.,.dots = paste0(group_var, " %in% '", filter_val, "'"))
paste0(filter_var, " %in% '", filter_val, "'")
paste0(filter_var, " %in% 'c(", filter_val, ")'")
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))%>%
filter_(.,.dots = paste0(group_var, " %in% '", filter_val, "'"))
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))%>%
filter_(.,.dots = paste0(group_var, " %in% 'c(", filter_val, ")'"))
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))
paste0(filter_var, " %in% '", filter_val, "'")
paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")
daychoice <- "Sunday"
shiftchoice <- "Afternoon"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
if (length(filter_val)==0 && length(filter_var)==0) {
filter_var = list('WEEK_DAY')
filter_val = list('%')
}
print(filter_var)
print(filter_val)
paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))
dynamic_data_test <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")) %>% ungroup() %>%
select_(.dots = values_var)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup() %>%
select_(.dots = values_var)
dynamic_data <- reshape2::melt(dynamic_data, measure.vars = unlist(values_var))
filter_var <- list()
group_var <-  list('SHIFT_TYPE','WEEK_DAY')
filter_val <- list()
values_var <- list('TOTAL_CONNECTED_IN_HRS',
'TOTAL_WAITING_IN_HRS',
'TOTAL_PAUSED_IN_HRS',
'TOTAL_DEASSIGN_IN_HRS')
select_var <- c(group_var,values_var)
all_days <- c("Sunday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Monday")
daychoice <- "Sunday"
all_shifts <- c("Morning", "Afternoon", "Evening", "Night")
shiftchoice <- "All"
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
if (length(filter_val)==0 && length(filter_var)==0) {
filter_var = list('WEEK_DAY')
filter_val = list('%')
}
print(filter_var)
print(filter_val)
paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")) %>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup() %>%
select_(.dots = values_var)
dynamic_data <- reshape2::melt(dynamic_data, measure.vars = unlist(values_var))
print(filter_var)
print(filter_val)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum))
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup()
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup()  %>%
select_(.dots = values_var)
dynamic_data <- reshape2::melt(dynamic_data, measure.vars = unlist(values_var))
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup()  %>%
select_(.dots = values_var)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
summarise_all(funs(sum)) %>%
ungroup()  %>%
select_(.dots = values_var)
summarise_all(funs(sum)) %>%
ungroup()  %>%
select_(.dots = values_var)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup()  %>%
select_(.dots = values_var)
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
group_by_(.dots = group_var) %>%
summarise_all(funs(sum)) %>%
ungroup()  %>%
select_(.dots = values_var)%>% summarise_all(funs(sum))
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
select_(.dots = values_var)%>% summarise_all(funs(sum))
daychoice <- "All"
shiftchoice <- "All"
if (daychoice != "All"){
filter_var <- list('WEEK_DAY')
filter_val <-  list(c(daychoice))
} else {
filter_val <-  list()
filter_var <- list()
}
print(filter_var)
if (length(filter_val)==0 && length(filter_var)==0) {
filter_var = list('WEEK_DAY')
filter_val = list('%')
}
if (shiftchoice != "All"){
filter_var <- c(filter_var,list('SHIFT_TYPE'))
filter_val <- c(filter_val,list(shiftchoice))
} else {
filter_val <- filter_val
filter_var <- filter_var
}
print(filter_val)
paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'")
dynamic_data <- KPI_perf_overall %>% ungroup() %>%
select_(.dots = unlist(select_var)) %>%
filter_(.,.dots = paste0(unlist(filter_var), " %in% '", unlist(filter_val), "'"))%>%
select_(.dots = values_var)%>% summarise_all(funs(sum))
runApp()
# fetch all data from  daily_noble_data_fact
data_temp  = sqlQuery(connHandle, "
SELECT DA.AGENT_NAME,DW.WEEK_DAY,DS.SHIFT_TYPE,DF.CONTACT_DATE,TOTAL_CONNECTED_IN_HRS,
TOTAL_WAITING_IN_HRS, TOTAL_PAUSED_IN_HRS, TOTAL_DEASSIGN_IN_HRS,
TOTAL_SUMMARY_IN_HRS, TOTAL_CONNECTED_IN_MINS, TOTAL_WAITING_IN_MINS,
TOTAL_PAUSED_IN_MINS, TOTAL_DEASSIGN_IN_MINS, TOTAL_SUMMARY_IN_MINS
FROM
DIM_AGENT DA,
DIM_SHIFTS DS,
DIM_WEEKS DW,
DAILY_NOBLE_DATA_FACT DF
WHERE
DF.AGENT_ID =DA.AGENT_ID
AND DS.SHIFT_ID=DF.SHIFT_ID
AND DW.WEEK_ID = DF.WEEK_ID
AND DF.CONTACT_DATE >= TO_DATE(SYSDATE - 7, 'MM/DD/YYYY');",stringsAsFactors = T
)
View(data_temp)
unique(data_temp$WEEK_DAY)
runApp()
